<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>  
    <div class="conteiner">
        <div class="caixaMae">
            <div class="item linhaCima colunaUm" id="a1"></div>

            <div class="item linhaCima" id="a2"></div>

            <div class="item linhaCima colunaTres" id="a3"></div>

            <div class="item colunaUm" id="b1"></div>

            <div class="item" id="b2"></div>

            <div class="item colunaTres"  id="b3"></div>

            <div class="item linhaBaixo colunaUm"  id="c1"></div>

            <div class="item linhaBaixo" id="c2"></div>

            <div class="item linhaBaixo colunaTres" id="c3"></div>
        </div>
        <button id="button">verificar</button>
    </div>
    <script>
        function verificarSeDeuVelha (a1, a2, a3, b1, b2, b3, c1, c2, c3) {
            if (a1 != "" && a2 != "" && a3 != "" && b1 != "" && b2 != "" && b3 != "" && c1 != "" && c2 != "" && c3 != "") {
                return true
            }
            return false
        }
        function verificarVencedor(a1, a2, a3, b1, b2, b3, c1, c2, c3) {
            if (a1 != "" && a1 == a2 && a1 == a3) {
                return a1
            }
            
            if (b1 != "" && b1 == b2 && b1 == b3) {
                return b1
            }
            
            if (c1 != "" && c1 == c2 && c1 == c3) {
                return c1
            }
            
            if (a1 != "" && a1 == b1 && a1 == c1) {
                return a1
            }
            
            if (a2 != "" && a2 == b2 && a2 == c2) {
                return a2
            }
            
            if (a3 != "" && a3 == b3 && a3 == c3) {
                return a3
            }
            
            if (b2 != "" && a1 == b2 && a1 == c3) {
                return a1
            }
            
            if (a3 != "" && a3 == b2 && a3 == c1) {
                return a3
            }
        }

        function mostrarResultado(){
            var a1 = window.document.getElementById("a1").innerText
            var a2 = window.document.getElementById("a2").innerText
            var a3 = window.document.getElementById("a3").innerText
            var b1 = window.document.getElementById("b1").innerText
            var b2 = window.document.getElementById("b2").innerText
            var b3 = window.document.getElementById("b3").innerText
            var c1 = window.document.getElementById("c1").innerText
            var c2 = window.document.getElementById("c2").innerText
            var c3 = window.document.getElementById("c3").innerText
            
            var vencedor = verificarVencedor(a1, a2, a3, b1, b2, b3, c1, c2, c3)

            console.log(vencedor)
            if(vencedor == "x" || vencedor == "o"){
                    window.alert(vencedor +" é o vencedor")
            } else { 
                if(verificarSeDeuVelha(a1, a2, a3, b1, b2, b3, c1, c2, c3)) {
                    window.alert("Deu velha")
                }
           }
                
        }
        var simbolo;
        var simbolo2;
       while(simbolo != "x" && simbolo != "o"){
           simbolo = window.prompt("Você quer x ou o?")
           console.log(simbolo)
        } 
        if(simbolo == "x"){
            simbolo2 = "o"
        } else {
            simbolo2 = "x"
        }
        /* var nick = window.prompt("Jogador 1, qual é o seu nick?")
        var nick2 = window.prompt(" Jogador2, qual é o seu nick?") */
        function obterSimboloDaVez(turno){
                if (turno%2 != 0) {
                    return simbolo
                }
            return simbolo2
        }

            console.log(obterSimboloDaVez())

        var divs = window.document.getElementsByClassName("item")
         
       
        var turnos = 1
        for(var indice = 0; indice < divs.length; indice += 1){
            divs[indice].addEventListener("click", function(evento){
                console.log(evento)
                
                if (evento.srcElement.innerText == "") {
                    evento.srcElement.innerText = obterSimboloDaVez(turnos) 
                    mostrarResultado() 
                    turnos +=1             
                }

            })
           
        }
        
    </script>
</body>
</html>